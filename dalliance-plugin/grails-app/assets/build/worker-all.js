(function e$$0(w,A,f){function d(F,x){if(!A[F]){if(!w[F]){var I="function"==typeof require&&require;if(!x&&I)return I(F,!0);if(D)return D(F,!0);throw Error("Cannot find module '"+F+"'");}I=A[F]={exports:{}};w[F][0].call(I.exports,function(l){var c=w[F][1][l];return d(c?c:l)},I,I.exports,e$$0,w,A,f)}return A[F].exports}for(var D="function"==typeof require&&require,x=0;x<f.length;x++)d(f[x]);return d})({1:[function(g,w,A){function f(){}function d(e,a,n,B,C){function r(b){if(!b)return B(null,"Couldn't access BAM");
b=c(b,b.byteLength);b=new Uint8Array(b);var h=x(b,0);if(h!=t)return B(null,"Not a BAM file, magic=0x"+h.toString(16));for(var k=x(b,4),q="",h=0;h<k;++h)q+=String.fromCharCode(b[h+8]);q=x(b,k+8);k+=12;E.chrToIndex={};E.indexToChr=[];for(h=0;h<q;++h){for(var s=x(b,k),p="",m=0;m<s-1;++m)p+=String.fromCharCode(b[k+4+m]);x(b,k+s+4);E.chrToIndex[p]=h;0==p.indexOf("chr")?E.chrToIndex[p.substring(3)]=h:E.chrToIndex["chr"+p]=h;E.indexToChr.push(p);k=k+8+s}if(E.indices)return B(E)}var E=new f;E.data=e;E.bai=
a;E.indexChunks=n;var z=E.indexChunks?E.indexChunks.minBlockIndex:1E9;if(E.indexChunks){a=E.indexChunks.chunks;E.indices=[];for(var p=0;p<a.length;p++)E.indices[p]=null;E.data.slice(0,z).fetch(r)}else E.bai.fetch(function(b){var h,k,q;if(b){var s=new Uint8Array(b),p=x(s,0);if(p!=v)b=B(null,"Not a BAI file, magic=0x"+p.toString(16));else{p=x(s,4);E.indices=[];for(var m=8,u=0;u<p;++u){var a=m;h=s;var G=q=a;k=x(h,G);for(var G=G+4,P=0;P<k;++P){x(h,G);var L=x(h,G+4),G=G+(8+16*L)}for(var P=x(h,G),G=G+4,
L=1E9,y=G,c=0;c<P;++c){var t=l(h,y),y=y+8;if(t){h=t.block;0<t.offset&&(h+=65536);h<L&&(L=h);break}}G+=8*P;h=L;q=G-q;m+=q;z=Math.min(h,z);0<k&&(E.indices[u]=new Uint8Array(b,a,m-a))}b=!0}}else b="Couldn't access BAI";!0!==b?E.bai.url&&"undefined"===typeof C?(E.bai.url=E.data.url.replace(/.bam$/,".bai"),d(e,E.bai,n,B,!0)):B(null,b):E.data.slice(0,z).fetch(r)})}function D(){}if("undefined"!==typeof g){g("./spans");A=g("./bin");var x=A.readInt,F=A.readShort,H=A.readByte,I=A.readFloat;g=g("./lh3utils");
var l=g.readVob,c=g.unbgzf,a=g.reg2bins,e=g.Chunk}var t=21840194,v=21578050;g={MULTIPLE_SEGMENTS:1,ALL_SEGMENTS_ALIGN:2,SEGMENT_UNMAPPED:4,NEXT_SEGMENT_UNMAPPED:8,REVERSE_COMPLEMENT:16,NEXT_REVERSE_COMPLEMENT:32,FIRST_SEGMENT:64,LAST_SEGMENT:128,SECONDARY_ALIGNMENT:256,QC_FAIL:512,DUPLICATE:1024,SUPPLEMENTARY:2048};f.prototype.blocksForRange=function(c,n,v){var t=this.indices[c];if(!t)return[];c=a(n,v);for(var f=[],r=0;r<c.length;++r)f[c[r]]=!0;c=[];for(var C=[],r=x(t,0),z=4,p=0;p<r;++p){var b=x(t,
z),h=x(t,z+4),z=z+8;if(f[b])for(var k=0;k<h;++k){var q=l(t,z),s=l(t,z+8);(4681>b?C:c).push(new e(q,s));z+=16}else z+=16*h}r=x(t,z);f=null;n=Math.min(n>>14,r-1);v=Math.min(v>>14,r-1);for(r=n;r<=v;++r)(n=l(t,z+4+8*r))&&(!f||n.block<f.block||n.offset<f.offset)&&(f=n);t=[];if(null!=f)for(r=0;r<C.length;++r)v=C[r],v.maxv.block>=f.block&&v.maxv.offset>=f.offset&&t.push(v);C=t;t=[];for(r=0;r<C.length;++r)t.push(C[r]);for(r=0;r<c.length;++r)t.push(c[r]);t.sort(function(b,h){var k=b.minv.block-h.minv.block;
return 0!=k?k:b.minv.offset-h.minv.offset});c=[];if(0<t.length){C=t[0];for(r=1;r<t.length;++r)v=t[r],v.minv.block==C.maxv.block?C=new e(C.minv,v.maxv):(c.push(C),C=v);c.push(C)}return c};f.prototype.fetch=function(e,a,v,n,t){function l(){if(k>=p.length)return n(h);if(q){var b=new Uint8Array(q),b=f.readBamRecords(b,p[k].minv.offset,h,a,v,z,t);q=null;++k;return b?n(h):l()}var J=p[k],b=J.minv.block;f.data.slice(b,J.maxv.block+65536-b).fetch(function(b){q=c(b,J.maxv.block-J.minv.block+1);return l()})}
var f=this;t=t||{};var z=this.chrToIndex[e],p;if(void 0===z)p=[];else{if(null===this.indices[z]&&this.indexChunks.chunks[z]){var b=this.indexChunks.chunks[z];return this.bai.slice(b[0],b[1]).fetch(function(b){b=new Uint8Array(b);this.indices[z]=b;return this.fetch(e,a,v,n,t)}.bind(this))}(p=this.blocksForRange(z,a,v))||n(null,"Error in index fetch")}var h=[],k=0,q;l()};var n="=ACxGxxxTxxxxxxN".split(""),C="MIDNSHP=X???????".split("");f.prototype.readBamRecords=function(e,a,c,v,t,l,f){for(;;){var z=
x(e,a),z=a+z+4;if(z>=e.length)return!1;var p=new D,b=x(e,a+4),h=x(e,a+8),k=x(e,a+12),q=(k&65280)>>8,s=k&255,k=x(e,a+16),J=(k&4294901760)>>16,m=k&65535,k=x(e,a+20),u=x(e,a+24),Q=x(e,a+28);x(e,a+32);p.segment=this.indexToChr[b];p.flag=J;p.pos=h;p.mq=q;f.light&&(p.seqLength=k);if(!f.light){0<=u&&(p.nextSegment=this.indexToChr[u],p.nextPos=Q);q="";for(h=0;h<s-1;++h)q+=String.fromCharCode(e[a+36+h]);p.readName=q;a=a+36+s;s="";for(h=0;h<m;++h)q=x(e,a),s=s+(q>>4)+C[q&15],a+=4;p.cigar=s;m="";s=k+1>>1;for(h=
0;h<s;++h)q=e[a+h],m+=n[(q&240)>>4],m+=n[q&15];a+=s;p.seq=m;m="";for(h=0;h<k;++h)m+=String.fromCharCode(e[a+h]+33);a+=k;for(p.quals=m;a<z;){m=String.fromCharCode(e[a],e[a+1]);s=String.fromCharCode(e[a+2]);if("A"==s)s=String.fromCharCode(e[a+3]),a+=4;else if("i"==s||"I"==s)s=x(e,a+3),a+=7;else if("c"==s||"C"==s)s=e[a+3],a+=4;else if("s"==s||"S"==s)s=F(e,a+3),a+=5;else if("f"==s)s=I(e,a+3),a+=7;else if("Z"==s||"H"==s)for(a+=3,s="";h=e[a++],0!=h;)s+=String.fromCharCode(h);else if("B"==s){s=String.fromCharCode(e[a+
3]);h=x(e,a+4);if("i"==s||"I"==s||"f"==s)q=4,J="f"==s?I:x;else if("s"==s||"S"==s)q=2,J=F;else if("c"==s||"C"==s)q=1,J=H;else throw"Unknown array type "+s;a+=8;s=[];for(u=0;u<h;++u)s.push(J(e,a)),a+=q}else throw"Unknown type "+s;p[m]=s}}if(!v||p.pos<=t&&p.pos+k>=v)void 0!==l&&b!=l||c.push(p);if(p.pos>t)return!0;a=z}};"undefined"!==typeof w&&(w.exports={makeBam:d,BAM_MAGIC:t,BAI_MAGIC:v,BamFlags:g})},{"./bin":3,"./lh3utils":8,"./spans":10}],2:[function(g,w,A){function f(p,b){return p[b]+p[b+1]*B+p[b+
2]*K+p[b+3]*r+p[b+4]*E}function d(){}function D(p,b,h,k){this.bwg=p;this.cirTreeOffset=b;this.cirTreeLength=h;this.isSummary=k}function x(p,b,h){var k=new d;k.data=p;k.name=h;k.data.slice(0,512).salted().fetch(function(h){if(!h)return b(null,"Couldn't fetch file");var s=new Uint8Array(h),p=new Int16Array(h);h=new Int32Array(h);var a=s[0]+B*s[1]+K*s[2]+r*s[3];a==C?k.type="bigwig":a==N?k.type="bigbed":a==M||a==O?b(null,"Currently don't support big-endian BBI files"):b(null,"Not a supported format, magic=0x"+
a.toString(16));k.version=p[2];k.numZoomLevels=p[3];k.chromTreeOffset=f(s,8);k.unzoomedDataOffset=f(s,16);k.unzoomedIndexOffset=f(s,24);k.fieldCount=p[16];k.definedFieldCount=p[17];k.asOffset=f(s,36);k.totalSummaryOffset=f(s,44);k.uncompressBufSize=h[13];k.extHeaderOffset=f(s,56);k.zoomLevels=[];for(p=0;p<k.numZoomLevels;++p){var a=h[6*p+16],e=f(s,24*p+72),c=f(s,24*p+80);k.zoomLevels.push({reduction:a,dataOffset:e,indexOffset:c})}k.readChromTree(function(){k.getAutoSQL(function(h){k.schema=h;return b(k)})})})}
function F(p,b,h,k,q){this.bbi=p;this.type=b;this.fieldCount=h;this.offset=k;this.field=q}if("undefined"!==typeof g){A=g("./spans");var H=A.Range,I=A.union,l=A.intersection;A=g("./das");var c=A.DASFeature,a=A.DASGroup,e=g("./utils").shallowCopy,t=g("./bin").readInt;g=g("jszlib");var v=g.inflateBuffer,n=g.arrayCopy}var C=2291137574,M=654086024,N=2273964779,O=3958540679,B=256,K=65536,r=16777216,E=4294967296,z=/^[0-9]+,[0-9]+,[0-9]+/;d.prototype.readChromTree=function(p){var b=this;this.chromsToIDs=
{};this.idsToChroms={};this.maxID=0;var h=this.unzoomedDataOffset,h=h+4-(h-this.chromTreeOffset&3);this.data.slice(this.chromTreeOffset,h-this.chromTreeOffset).fetch(function(h){var q=new Uint8Array(h),s=new Int16Array(h),a=(new Int32Array(h))[2];f(q,16);var m=function(h){var k=q[h],p=s[h/2+1];h+=4;for(var e=0;e<p;++e)if(0==k){h+=a;var L=f(q,h);h+=8;L-=b.chromTreeOffset;m(L)}else{for(var L="",c=0;c<a;++c){var z=q[h++];0!=z&&(L+=String.fromCharCode(z))}c=q[h+3]<<24|q[h+2]<<16|q[h+1]<<8|q[h+0];h+=8;
b.chromsToIDs[L]=c;0==L.indexOf("chr")&&(b.chromsToIDs[L.substr(3)]=c);b.idsToChroms[c]=L;b.maxID=Math.max(b.maxID,c)}};m(32);p(b)})};D.prototype.readWigData=function(p,b,h,k){p=this.bwg.chromsToIDs[p];if(void 0===p)return k([]);this.readWigDataById(p,b,h,k)};D.prototype.readWigDataById=function(p,b,h,k){var q=this;if(this.cirHeader){var s=[],a=0;Date.now();var e=function(k,q,a,s){return(0>p||k==p)&&q<=h&&a>=b},u=function(b,h){q.bwg.instrument&&console.log("level="+h+"; offset="+b+"; time="+(Date.now()|
0));a+=b.length;if(1==b.length&&48==b[0]-q.cirTreeOffset&&q.cachedCirRoot)G(q.cachedCirRoot,0,h),--a,0==a&&q.fetchFeatures(e,s,k);else{for(var p=4+32*q.cirBlockSize,u,z=0;z<b.length;++z){var v=new H(b[z],b[z]+p);u=u?I(u,v):v}p=u.ranges();for(u=0;u<p.length;++u)c(b,p[u],h)}},c=function(b,h,p,u){h.max();h.min();q.bwg.data.slice(h.min(),h.max()-h.min()).fetch(function(u){for(var c=0;c<b.length;++c)h.contains(b[c])&&(G(u,b[c]-h.min(),p),48==b[c]-q.cirTreeOffset&&0==b[c]-h.min()&&(q.cachedCirRoot=u),--a,
0==a&&q.fetchFeatures(e,s,k))})},G=function(k,q,a){var e=new Uint8Array(k),m=new Int16Array(k);k=new Int32Array(k);var c=e[q],m=m[q/2+1];q+=4;if(0!=c)for(c=0;c<m;++c){var J=q/4,G=k[J],z=k[J+1],v=k[J+2],J=k[J+3],t=f(e,q+16);a=f(e,q+24);(0>p||G<p||G==p&&z<=h)&&(0>p||v>p||v==p&&J>=b)&&s.push({offset:t,size:a});q+=32}else{for(var n=[],c=0;c<m;++c)J=q/4,G=k[J],z=k[J+1],v=k[J+2],J=k[J+3],t=f(e,q+16),(0>p||G<p||G==p&&z<=h)&&(0>p||v>p||v==p&&J>=b)&&n.push(t),q+=24;0<n.length&&u(n,a+1)}};u([q.cirTreeOffset+
48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(a){q.cirHeader=a;a=new Int32Array(q.cirHeader);q.cirBlockSize=a[1];q.readWigDataById(p,b,h,k)})};D.prototype.fetchFeatures=function(a,b,h){var k=this;b.sort(function(b,h){return(b.offset|0)-(h.offset|0)});if(0==b.length)h([]);else{var q=[],s=function(b,h,a,p){p||(p={});var s=new c;s._chromId=b;s.segment=k.bwg.idsToChroms[b];s.min=h;s.max=a;s.type="bigwig";for(var e in p)s[e]=p[e];q.push(s)},e=function(){if(0==b.length)Date.now(),
h(q);else{var m=b[0];if(m.data)k.parseFeatures(m.data,s,a),b.splice(0,1),e();else{for(var u=m.offset,c=m.size,m=1;m<b.length&&b[m].offset==u+c;)c+=b[m].size,++m;k.bwg.data.slice(u,c).fetch(function(h){for(var q=0,a=0;q<c;){var p=b[a],s;0<k.bwg.uncompressBufSize?s=v(h,q+2,p.size-2):(s=new Uint8Array(p.size),n(new Uint8Array(h,q,p.size),0,s,0,p.size),s=s.buffer);p.data=s;q+=p.size;++a}e()})}}};e()}};D.prototype.parseFeatures=function(p,b,h){var k=new Uint8Array(p);if(this.isSummary)for(var q=new Int16Array(p),
s=new Int32Array(p),c=new Float32Array(p),k=p.byteLength/32,q=0;q<k;++q){p=s[8*q];var m=s[8*q+1],u=s[8*q+2],v=s[8*q+3],G=c[8*q+5],t=c[8*q+6];h(p,m+1,u)&&(v={type:"bigwig",score:t/v,maxScore:G},"bigbed"==this.bwg.type&&(v.type="density"),b(p,m+1,u,v))}else if("bigwig"==this.bwg.type)if(q=new Int16Array(p),s=new Int32Array(p),c=new Float32Array(p),p=s[0],G=s[1],t=s[3],v=s[4],m=k[20],k=q[11],3==m)for(q=0;q<k;++q){var n=c[q+6],s=G+q*t+1,m=G+q*t+v;h(p,s,m)&&b(p,s,m,{score:n})}else if(2==m)for(q=0;q<k;++q)m=
s[2*q+6]+1,u=m+v-1,n=c[2*q+7],h(p,m,u)&&b(p,m,u,{score:n});else if(1==m)for(q=0;q<k;++q)m=s[3*q+6]+1,u=s[3*q+7],n=c[3*q+8],m>u&&(m=u),h(p,m,u)&&b(p,m,u,{score:n});else console.log("Currently not handling bwgType="+m);else if("bigbed"==this.bwg.type)for(q=0,v=this.bwg.definedFieldCount,G=this.bwg.schema;q<k.length;){p=k[q+3]<<24|k[q+2]<<16|k[q+1]<<8|k[q+0];m=k[q+7]<<24|k[q+6]<<16|k[q+5]<<8|k[q+4];u=k[q+11]<<24|k[q+10]<<16|k[q+9]<<8|k[q+8];q+=12;for(n="";;)if(t=k[q++],0!=t)n+=String.fromCharCode(t);
else break;var t={},y;y=0<n.length?n.split("\t"):[];0<y.length&&3<v&&(t.label=y[0]);1<y.length&&4<v&&(n=parseInt(y[1]),isNaN(n)||(t.score=n));2<y.length&&5<v&&(t.orientation=y[2]);5<y.length&&8<v&&(n=y[5],z.test(n)&&(t.itemRgb="rgb("+n+")"));if(y.length>v-3&&G)for(n=v-3;n<y.length;++n)t[G.fields[n+3].name]=y[n];if(h(p,m+1,u,y))if(12>v)b(p,m+1,u,t);else{var n=y[3]|0,f=y[4]|0,C=y[6]|0,r=y[7].split(","),B=y[8].split(",");t.exonFrames&&(c=t.exonFrames.split(","),t.exonFrames=void 0);t.type="transcript";
var d=new a;for(s in t)d[s]=t[s];d.id=y[0];d.segment=this.bwg.idsToChroms[p];d.min=m+1;d.max=u;d.notes=[];t.groups=[d];if(9<y.length){var g=u=t.geneName||y[9];10<y.length&&(g=y[10]);t.geneName2&&(g=t.geneName2);y=e(d);y.id=u;y.label=g;y.type="gene";t.groups.push(y)}u=[];for(y=0;y<C;++y)d=(B[y]|0)+m,d=new H(d,d+(r[y]|0)),u.push(d);r=I(u);C=r.ranges();for(m=0;m<C.length;++m)u=C[m],b(p,u.min()+1,u.max(),t);if(f>n&&(m="+"==t.orientation?new H(n,f+3):new H(n-3,f),m=l(r,m))){t.type="translation";n=m.ranges();
for(r=f=0;n[0].min()>C[r].max();)r++;for(m=0;m<n.length;++m)C=m,"-"==t.orientation&&(C=n.length-m-1),u=n[C],t.readframe=f,c&&(C=parseInt(c[C+r]),"number"===typeof C&&0<=C&&2>=C&&(t.readframe=C,t.readframeExplicit=!0)),C=u.max()-u.min(),f=(f+C)%3,b(p,u.min()+1,u.max(),t)}}}else throw Error("Don't know what to do with "+this.bwg.type);};D.prototype.getFirstAdjacent=function(a,b,h,k){a=this.bwg.chromsToIDs[a];if(void 0===a)return k([]);this.getFirstAdjacentById(a,b,h,k)};D.prototype.getFirstAdjacentById=
function(a,b,h,k){var q=this;if(this.cirHeader){var s=null,e=-1,m=-1,c=0;Date.now();var t=function(b,h){c+=b.length;for(var k=4+32*q.cirBlockSize,a,s=0;s<b.length;++s){var p=new H(b[s],b[s]+k);a=a?I(a,p):p}k=a.ranges();for(a=0;a<k.length;++a)n(b,k[a],h)},n=function(e,m,t,n){m.max();m.min();q.bwg.data.slice(m.min(),m.max()-m.min()).fetch(function(n){for(var z=0;z<e.length;++z)if(m.contains(e[z])&&(v(n,e[z]-m.min(),t),--c,0==c)){if(!s)return 0<h&&(0!=a||0<b)?q.getFirstAdjacentById(0,0,h,k):0>h&&(a!=
q.bwg.maxID||1E9>b)?q.getFirstAdjacentById(q.bwg.maxID,1E9,h,k):k([]);q.fetchFeatures(function(k,q,s,e){return 0>h&&(k<a||s<b)||0<h&&(k>a||q>b)},[s],function(b){for(var q=null,a=-1,s=-1,p=0;p<b.length;++p){var e=b[p],m=e._chromId,c=e.min,u=e.max;if(null==q||0>h&&(m>a||u>s)||0<h&&(m<a||c<s))q=e,s=0>h?u:c,a=m}return null!=q?k([q]):k([])})}})},v=function(k,c,u){var n=new Uint8Array(k),z=new Int16Array(k);k=new Int32Array(k);var v=n[c],z=z[c/2+1];c+=4;if(0!=v)for(v=0;v<z;++v){var G=c/4,l=k[G],C=k[G+1],
r=k[G+2],d=k[G+3],G=f(n,c+16);u=f(n,c+24);(0>h&&(l<a||l==a&&C<=b)||0<h&&(r>a||r==a&&d>=b))&&!/_random/.exec(q.bwg.idsToChroms[l])&&(null==s||0>h&&(r>e||r==e&&d>m)||0<h&&(l<e||l==e&&C<m))&&(s={offset:G,size:u},m=0>h?d:C,e=0>h?r:l);c+=32}else{for(var B=n=-1,v=0;v<z;++v){G=c/4;l=k[G];C=k[G+1];r=k[G+2];d=k[G+3];G=k[G+4]<<32|k[G+5];if(0>h&&(l<a||l==a&&C<=b)&&r>=a||0<h&&(r>a||r==a&&d>=b)&&l<=a)if(0>n||d>B)n=G,B=0>h?d:C;c+=24}0<=n&&t([n],u+1)}};t([q.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,
48).fetch(function(s){q.cirHeader=s;s=new Int32Array(q.cirHeader);q.cirBlockSize=s[1];q.getFirstAdjacentById(a,b,h,k)})};d.prototype.readWigData=function(a,b,h,k){this.getUnzoomedView().readWigData(a,b,h,k)};d.prototype.getUnzoomedView=function(){if(!this.unzoomedView){var a=4E3;this.zoomLevels[0]&&(a=this.zoomLevels[0].dataOffset-this.unzoomedIndexOffset);this.unzoomedView=new D(this,this.unzoomedIndexOffset,a,!1)}return this.unzoomedView};d.prototype.getZoomedView=function(a){a=this.zoomLevels[a];
a.view||(a.view=new D(this,a.indexOffset,4E3,!0));return a.view};d.prototype._tsFetch=function(a,b,h,k,q){var s=this;if(a>=this.zoomLevels.length-1){if(this.topLevelReductionCache){for(var e=[],m=this.topLevelReductionCache,c=0;c<m.length;++c)m[c]._chromId==b&&e.push(m[c]);return q(e)}this.getZoomedView(this.zoomLevels.length-1).readWigDataById(-1,0,3E8,function(e){s.topLevelReductionCache=e;return s._tsFetch(a,b,h,k,q)})}else return(0>a?this.getUnzoomedView():this.getZoomedView(a)).readWigDataById(b,
h,k,q)};d.prototype.thresholdSearch=function(a,b,h,k,q){function s(){if(0==m.length)return q(null);m.sort(function(b,k){var q=b.zoom-k.zoom;if(0!=q)return q;q=b.chrOrd-k.chrOrd;return 0!=q?q:b.min-k.min*h});var a=m.splice(0,1)[0];e._tsFetch(a.zoom,a.chr,a.min,a.max,function(e){var c=0<h?0:3E8;a.fromRef&&(c=b);for(var p=0;p<e.length;++p){var n=e[p],u;u=void 0!=n.maxScore?n.maxScore:n.score;if(0<h){if(u>k)if(0>a.zoom){if(n.min>c)return q(n)}else n.max>c&&m.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-
2,min:n.min,max:n.max,fromRef:a.fromRef})}else if(u>k)if(0>a.zoom){if(n.max<c)return q(n)}else n.min<c&&m.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-2,min:n.min,max:n.max,fromRef:a.fromRef})}s()})}h=0>h?-1:1;var e=this;a=this.chromsToIDs[a];for(var m=[{chrOrd:0,chr:a,zoom:e.zoomLevels.length-4,min:0,max:3E8,fromRef:!0}],c=1;c<=this.maxID+1;++c){var n=(a+h*c)%(this.maxID+1);0>n&&(n+=this.maxID+1);m.push({chrOrd:c,chr:n,zoom:e.zoomLevels.length-1,min:0,max:3E8})}s()};d.prototype.getAutoSQL=function(a){if(!this.asOffset)return a(null);
this.data.slice(this.asOffset,2048).fetch(function(b){var h=new Uint8Array(b);b="";for(var k=0;k<h.length&&0!=h[k];++k)b+=String.fromCharCode(h[k]);var h=/([\w\[\]]+)\s+(\w+)\s*;\s*("([^"]+)")?\s*/g,q=/(\w+)\s+(\w+)\s+("([^"]+)")?\s+\(\s*/.exec(b);if(q){k={declType:q[1],name:q[2],comment:q[4],fields:[]};b=b.substring(q[0]);for(q=h.exec(b);null!=q;q=h.exec(b))k.fields.push({type:q[1],name:q[2],comment:q[4]});return a(k)}})};d.prototype.getExtraIndices=function(a){var b=this;if(4>this.version||0==this.extHeaderOffset||
"bigbed"!=this.type)return a(null);this.data.slice(this.extHeaderOffset,64).fetch(function(h){if(!h)return a(null,"Couldn't fetch extension header");var k=new Uint8Array(h),q=new Int16Array(h);new Int32Array(h);var s=q[1];h=f(k,4);if(0==s)return a(null);b.data.slice(h,20*s).fetch(function(h){if(!h)return a(null,"Couldn't fetch index info");var k=new Uint8Array(h),q=new Int16Array(h);new Int32Array(h);h=[];for(var e=0;e<s;++e){var c=q[10*e],n=q[10*e+1],t=f(k,20*e+4),c=new F(b,c,n,t,q[10*e+8]);h.push(c)}a(h)})})};
F.prototype.lookup=function(a,b){var h=this;this.bbi.data.slice(this.offset,32).fetch(function(k){function q(k){h.bbi.data.slice(k,4+e*(c+n)).fetch(function(k){var s=new Uint8Array(k),e=new Uint16Array(k);new Uint32Array(k);e=e[1];k=4;if(0==s[0]){for(var v=null,z=0;z<e;++z){for(var J="",l=0;l<c;++l){var C=s[k++];0!=C&&(J+=String.fromCharCode(C))}l=f(s,k);k+=8;if(0>a.localeCompare(J)&&v){q(v);return}v=l}q(v)}else{for(z=0;z<e;++z){J="";for(l=0;l<c;++l)C=s[k++],0!=C&&(J+=String.fromCharCode(C));if(J==
a)return e=f(s,k),s=t(s,k+8),h.bbi.getUnzoomedView().fetchFeatures(function(b,k,q,s){if(s&&s.length>h.field-3)return s[h.field-3]==a},[{offset:e,size:s}],b);k+=n}return b([])}})}var s=new Uint8Array(k);new Int16Array(k);k=new Int32Array(k);var e=k[1],c=k[2],n=k[3];f(s,16);q(h.offset+32)})};"undefined"!==typeof w&&(w.exports={makeBwg:x,BIG_BED_MAGIC:N,BIG_WIG_MAGIC:C})},{"./bin":3,"./das":5,"./spans":10,"./utils":11,jszlib:24}],3:[function(g,w,A){function f(a){this.blob=a}function d(a,e,c,t){t||("object"===
typeof e?(t=e,e=void 0):t={});this.url=a;this.start=e||0;c&&(this.end=c);this.opts=t}function D(a){if(!a)return null;for(var e=new Uint8Array(a.length),c=0;c<e.length;++c)e[c]=a.charCodeAt(c);return e.buffer}function x(a,e){return a[e+7]<<24|a[e+6]<<16|a[e+5]<<8|a[e+4]}function F(a,e){return a[e+3]<<24|a[e+2]<<16|a[e+1]<<8|a[e]}function H(a,e){return a[e+1]<<8|a[e]}function I(a,e){return a[e]}function l(a,e){return a[e]<<24|a[e+1]<<16|a[e+2]<<8|a[e+3]}if("undefined"!==typeof g)var c=g("./utils").shallowCopy,
a=g("./sha1").b64_sha1;f.prototype.slice=function(a,e){var c;c=this.blob.slice?e?this.blob.slice(a,a+e):this.blob.slice(a):e?this.blob.webkitSlice(a,a+e):this.blob.webkitSlice(a);return new f(c)};f.prototype.salted=function(){return this};f.prototype.fetch="undefined"!==typeof FileReader?function(a){var e=new FileReader;e.onloadend=function(c){a(D(e.result))};e.readAsBinaryString(this.blob)}:function(a){var e=new FileReaderSync;try{var c=e.readAsArrayBuffer(this.blob);a(c)}catch(t){a(null,t)}};d.prototype.slice=
function(a,e){if(0>a)throw"Bad slice "+a;var c=this.start,t=this.end,c=c&&a?c+a:a||c;return new d(this.url,c,e&&c?c+e-1:t||e-1,this.opts)};var e=0,t=0<=navigator.userAgent.indexOf("Safari")&&0>navigator.userAgent.indexOf("Chrome");d.prototype.fetchAsText=function(c){var n=new XMLHttpRequest,l=this.url;(t||this.opts.salt)&&0>l.indexOf("?")&&(l=l+"?salt="+a(""+Date.now()+","+ ++e));n.open("GET",l,!0);if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";n.setRequestHeader("Range","bytes="+this.start+
"-"+this.end)}n.onreadystatechange=function(){if(4==n.readyState)return 200==n.status||206==n.status?c(n.responseText):c(null)};this.opts.credentials&&(n.withCredentials=!0);n.send("")};d.prototype.salted=function(){var a=c(this.opts);a.salt=!0;return new d(this.url,this.start,this.end,a)};d.prototype.fetch=function(c,n,l){var f=this;n=n||1;if(3<n)return c(null);var d=new XMLHttpRequest,g,B=this.url;(t||this.opts.salt)&&0>B.indexOf("?")&&(B=B+"?salt="+a(""+Date.now()+","+ ++e));d.open("GET",B,!0);
d.overrideMimeType("text/plain; charset=x-user-defined");if(this.end){if(1E8<this.end-this.start)throw"Monster fetch!";d.setRequestHeader("Range","bytes="+this.start+"-"+this.end);g=this.end-this.start+1}d.responseType="arraybuffer";d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status||206==d.status){if(d.response){var a=d.response.byteLength;return!g||g==a||l&&a==l?c(d.response):f.fetch(c,n+1,a)}if(d.mozResponseArrayBuffer)return c(d.mozResponseArrayBuffer);a=d.responseText;return!g||
g==a.length||l&&a.length==l?c(D(d.responseText)):f.fetch(c,n+1,a.length)}return f.fetch(c,n+1)}};this.opts.credentials&&(d.withCredentials=!0);d.send("")};(function(a){var e=new ArrayBuffer(8),c=new Uint8Array(e),t=new Float32Array(e);a.readFloat=function(a,e){c[0]=a[e];c[1]=a[e+1];c[2]=a[e+2];c[3]=a[e+3];return t[0]}})(this);"undefined"!==typeof w&&(w.exports={BlobFetchable:f,URLFetchable:d,readInt:F,readIntBE:l,readInt64:x,readShort:H,readByte:I,readFloat:this.readFloat})},{"./sha1":9,"./utils":11}],
4:[function(g,w,A){function f(c,a,e,t){this.red=c|0;this.green=a|0;this.blue=e|0;t&&(this.name=t)}function d(c){c="00"+c.toString(16);return c.substring(c.length-2)}function D(c){var a=H[c];a||((a=I.exec(c))?a=new f("0x"+a[1]|0,"0x"+a[2]|0,"0x"+a[3]|0,c):(a=l.exec(c))?a=new f(a[1]|0,a[2]|0,a[3]|0,c):(console.log("couldn't handle color: "+c),a=H.black),H[c]=a);return a}function x(c,a,e){for(var t=[],l=0;l<e.length;++l)t.push(D(e[l]));e=[];l=0;a:for(;l<c;++l){for(var n=a[0]+1*l/(c-1)*(a[a.length-1]-
a[0]),d=0;d<a.length-1;++d)if(n>=a[d]&&n<=a[d+1]){var n=(n-a[d])/(a[d+1]-a[d]),g=t[d],d=t[d+1],d=(new f(g.red*(1-n)+d.red*n|0,g.green*(1-n)+d.green*n|0,g.blue*(1-n)+d.blue*n|0)).toSvgString();e.push(d);continue a}throw"Bad step";}return e}function F(c,a,e,t){return t?x(c,[0,0.5,1],[a,e,t]):x(c,[0,1],[a,e])}f.prototype.toSvgString=function(){this.name||(this.name="rgb("+this.red+","+this.green+","+this.blue+")");return this.name};f.prototype.toHexString=function(){return"#"+d(this.red)+d(this.green)+
d(this.blue)};var H={red:new f(255,0,0,"red"),green:new f(0,255,0,"green"),blue:new f(0,0,255,"blue"),yellow:new f(255,255,0,"yellow"),white:new f(255,255,255,"white"),black:new f(0,0,0,"black"),gray:new f(180,180,180,"gray"),grey:new f(180,180,180,"grey"),lightskyblue:new f(135,206,250,"lightskyblue"),lightsalmon:new f(255,160,122,"lightsalmon"),hotpink:new f(255,105,180,"hotpink")},I=/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/,l=/rgb\(([0-9]+),([0-9]+),([0-9]+)\)/;"undefined"!==typeof w&&
(w.exports={makeColourSteps:x,makeGradient:F,dasColourForName:D})},{}],5:[function(g,w,A){function f(a,e,b,h){this.name=a;this.start=e;this.end=b;this.description=h}function d(a,e){var b;"string"==typeof a?(this.uri=a,b=e||{}):b=a||{};for(var h in b)"function"!=typeof b[h]&&(this[h]=b[h]);this.coords||(this.coords=[]);this.props||(this.props={});(this.dasBaseURI=this.uri)&&"/"!=this.dasBaseURI.substr(this.uri.length-1)&&(this.dasBaseURI+="/")}function D(){}function x(a,e){return a.taxon==e.taxon&&
a.auth==e.auth&&a.version==e.version}function F(a,e,b,h,k){this.name=a;this.start=e;this.end=b;this.alphabet=h;this.seq=k}function H(){}function I(a){a&&(this.id=a)}function l(a,e){this.desc=a;this.uri=e}function c(a){this.type=a;this.objects={};this.blocks=[]}function a(){this.styles=[]}function e(){}function t(a,e){e=e||{};this.uri=a;this.opts=e}function v(a,e){var b=a.getElementsByTagName(e);if(0<b.length&&b[0].firstChild){b=b[0];if(1==b.childNodes.length)return b.firstChild.nodeValue;for(var h=
"",k=0;k<b.childNodes.length;++k)h+=b.childNodes[k].nodeValue;return h}return null}function n(a){for(var e=[],b=a.getElementsByTagName("LINK"),h=0;h<b.length;++h){var k=b[h];k.parentNode==a&&e.push(new l(k.firstChild?k.firstChild.nodeValue:"Unknown",k.getAttribute("href")))}return e}function C(a){var e=[];a=a.getElementsByTagName("NOTE");for(var b=0;b<a.length;++b)a[b].firstChild&&e.push(a[b].firstChild.nodeValue);return e}function M(a,e,b,h){if(window.XDomainRequest){var k=new XDomainRequest;k.onload=
function(){var b=new ActiveXObject("Microsoft.XMLDOM");b.async=!1;b.loadXML(k.responseText);e(b)};k.open("get",a)}else Date.now(),k=new XMLHttpRequest,k.onreadystatechange=function(){4==k.readyState&&(200<=k.status||0==k.status)&&e(k.responseXML,k)},k.open("get",a,!0),b&&(k.withCredentials=!0),h&&k.setRequestHeader("X-DAS-Authorisation",h),k.overrideMimeType("text/xml"),k.setRequestHeader("Accept","application/xml,*/*");k.send("")}function N(a){a=(""+a).toLowerCase();return"yes"===a||"true"===a}function O(a){if(!a)return!1;
a=(""+a).toLowerCase();return"no"!==a||"false"!==a}function B(a){var e=K(a);e.styles=[];for(var b=0;b<a.styles.length;++b){var h=e.styles[b]=K(a.styles[b]);h._methodRE=h._labelRE=h._typeRE=void 0;h.style=K(h.style);h.style.id=void 0;h.style._gradient=void 0}return e}if("undefined"!==typeof g){A=g("./utils");var K=A.shallowCopy,r=A.pusho,E=g("./color").makeColourSteps}f.prototype.toString=function(){return this.name+":"+this.start+".."+this.end};f.prototype.isBounded=function(){return this.start&&
this.end};f.prototype.toDASQuery=function(){var a="segment="+this.name;this.start&&this.end&&(a+=":"+this.start+","+this.end);return a};d.prototype.entryPoints=function(a){this.doCrossDomainRequest(this.dasBaseURI+"entry_points",function(e){if(!e)return a([]);var b=[];e=e.getElementsByTagName("SEGMENT");for(var h=0;h<e.length;++h){var k=e[h],q=k.getAttribute("id"),s=k.getAttribute("size"),c;s?(c=1,s|=0):((c=k.getAttribute("start"))&&(c|=0),(s=k.getAttribute("stop"))&&(s|=0));var m=null;k.firstChild&&
(m=k.firstChild.nodeValue);b.push(new f(q,c,s,m))}a(b)})};d.prototype.sequence=function(a,e){var b=this.dasBaseURI+"sequence?"+a.toDASQuery();this.doCrossDomainRequest(b,function(b){if(b){var a=[];b=b.getElementsByTagName("SEQUENCE");for(var q=0;q<b.length;++q){var s=b[q],c=s.getAttribute("id"),m=s.getAttribute("start"),t=s.getAttribute("stop"),l=null;if(s.firstChild)for(var s=s.firstChild.nodeValue,l="",n=0;;){var f=s.indexOf("\n",n);if(0<=f)l+=s.substring(n,f).toUpperCase(),n=f+1;else{l+=s.substring(n).toUpperCase();
break}}a.push(new F(c,m,t,"DNA",l))}e(a)}else e([])})};d.prototype.features=function(a,e,b){e=e||{};var h;if(this.features_uri)h=this.features_uri;else{var k=[];if(a)k.push(a.toDASQuery());else if(e.group)if(a=e.group,"string"==typeof a)k.push("group_id="+a);else for(var q=0;q<a.length;++q)k.push("group_id="+a[q]);if(e.adjacent)for(a=e.adjacent,"string"==typeof a&&(a=[a]),q=0;q<a.length;++q)k.push("adjacent="+a[q]);if(e.type)if("string"==typeof e.type)k.push("type="+e.type);else for(a=0;a<e.type.length;++a)k.push("type="+
e.type[a]);e.maxbins&&k.push("maxbins="+e.maxbins);0<k.length?h=this.dasBaseURI+"features?"+k.join(";"):b([],"No filters specified")}this.doCrossDomainRequest(h,function(h,a){if(h){for(var k=[],e={},q=h.getElementsByTagName("SEGMENT"),c=0;c<q.length;++c){var t=q[c],l=t.getAttribute("id");e[l]={min:t.getAttribute("start"),max:t.getAttribute("stop")};for(var t=t.getElementsByTagName("FEATURE"),p=0;p<t.length;++p){var f=t[p],d=new H;d.segment=l;d.id=f.getAttribute("id");d.label=f.getAttribute("label");
var z=v(f,"START"),r=v(f,"END");(z|0)>(r|0)?(d.min=r|0,d.max=z|0):(d.min=z|0,d.max=r|0);z=f.getElementsByTagName("TYPE");0<z.length&&(z=z[0],z.firstChild&&(d.type=z.firstChild.nodeValue),d.typeId=z.getAttribute("id"),d.typeCv=z.getAttribute("cvId"));d.type=v(f,"TYPE");!d.type&&d.typeId&&(d.type=d.typeId);d.method=v(f,"METHOD");(z=v(f,"ORIENTATION"))||(z="0");d.orientation=z;d.score=v(f,"SCORE");d.links=n(f);d.notes=C(f);z=f.getElementsByTagName("GROUP");for(r=0;r<z.length;++r){var B=z[r],g=new I;
g.type=B.getAttribute("type");g.id=B.getAttribute("id");g.links=n(B);g.notes=C(B);d.groups?d.groups.push(g):d.groups=Array(g)}if(d.notes)for(z=0;z<d.notes.length;++z)r=d.notes[z],0==r.indexOf("Genename=")&&(B=new I,B.type="gene",B.id=r.substring(9),d.groups?d.groups.push(B):d.groups=Array(B));z=f.getElementsByTagName("PART");if(0<z.length){B=[];for(r=0;r<z.length;++r)B.push(z[r].getAttribute("id"));d.parts=B}z=f.getElementsByTagName("PARENT");if(0<z.length){f=[];for(r=0;r<z.length;++r)f.push(z[r].getAttribute("id"));
d.parents=f}k.push(d)}}b(k,void 0,e)}else b([],"Failed request: "+(0==a.status?"server may not support CORS":"status="+a.status))},function(h){b([],h)})};d.prototype.alignments=function(a,e,b){var h=this.dasBaseURI+"alignment?query="+a;this.doCrossDomainRequest(h,function(a){if(a){var e=[];a=a.getElementsByTagName("alignment");for(var s=0;s<a.length;++s){for(var t=a[s],m=new c(t.getAttribute("alignType")),u=t.getElementsByTagName("alignObject"),l=0;l<u.length;++l){var n=u[l],n={id:n.getAttribute("intObjectId"),
accession:n.getAttribute("dbAccessionId"),version:n.getAttribute("objectVersion"),dbSource:n.getAttribute("dbSource"),dbVersion:n.getAttribute("dbVersion")};m.objects[n.id]=n}t=t.getElementsByTagName("block");for(u=0;u<t.length;++u){for(var n=t[u],l={order:n.getAttribute("blockOrder"),segments:[]},n=n.getElementsByTagName("segment"),p=0;p<n.length;++p){var d=n[p],d={object:d.getAttribute("intObjectId"),min:d.getAttribute("start"),max:d.getAttribute("end"),strand:d.getAttribute("strand"),cigar:v(d,
"cigar")};l.segments.push(d)}m.blocks.push(l)}e.push(m)}b(e)}else b([],"Failed request "+h)})};a.prototype.pushStyle=function(a,e,b){a||(a={type:"default"});a=K(a);e&&(a.zoom=e);a.style=b;this.styles.push(a)};d.prototype.stylesheet=function(c,t){var b,h=this.credentials;this.stylesheet_uri?(b=this.stylesheet_uri,h=!1):b=this.dasBaseURI+"stylesheet";M(b,function(b){if(b){var h=new a;b=b.getElementsByTagName("TYPE");for(var s=0;s<b.length;++s){var l=b[s],m={};m.type=l.getAttribute("id");m.label=l.getAttribute("label");
m.method=l.getAttribute("method");for(var l=l.getElementsByTagName("GLYPH"),n=0;n<l.length;++n){var d=l[n],f=d.getAttribute("zoom"),r;a:{if(d.hasChildNodes()){d=d.firstChild;do{if(d.nodeType==Node.ELEMENT_NODE){r=d;break a}d=d.nextSibling}while(null!=d)}r=null}d=new e;d.glyph=r.localName;for(r=r.firstChild;r;){if(r.nodeType==Node.ELEMENT_NODE)if("BGGRAD"==r.localName){var v=d,B=r.localName,g,C=r;g=(g=C.getAttribute("steps"))?g|0:50;for(var F=[],x=[],C=C.getElementsByTagName("STOP"),H=0;H<C.length;++H){var K=
C[H];F.push(1*K.getAttribute("score"));x.push(K.firstChild.nodeValue)}g=E(g,F,x);v[B]=g}else d[r.localName]=r.firstChild.nodeValue;r=r.nextSibling}h.pushStyle(m,f,d)}}c(h)}else t&&t()},h)};t.prototype.sources=function(a,e,b){b||(b={});var h=[];b.taxon&&h.push("organism="+b.taxon);b.auth&&h.push("authority="+b.auth);b.version&&h.push("version="+b.version);b=this.uri;0<h.length&&(b=b+"?"+h.join("&"));M(b,function(b){if(!b&&e)e();else{var h=[];b=b.getElementsByTagName("SOURCE");for(var c=0;c<b.length;++c){var t=
b[c],m=t.getElementsByTagName("VERSION");if(!(1>m.length)){for(var l=m[0],n=l.getElementsByTagName("COORDINATES"),m=[],f=0;f<n.length;++f){var v=n[f],B=new D;B.auth=v.getAttribute("authority");B.taxon=v.getAttribute("taxid");B.version=v.getAttribute("version");m.push(B)}for(var n=[],v=l.getElementsByTagName("CAPABILITY"),g,f=0;f<v.length;++f)B=v[f],n.push(B.getAttribute("type")),"das1:features"==B.getAttribute("type")&&(g=B.getAttribute("query_uri"),g=g.substring(0,g.length-8));f={};l=l.getElementsByTagName("PROP");
for(v=0;v<l.length;++v)r(f,l[v].getAttribute("name"),l[v].getAttribute("value"));g&&(t=new d(g,{source_uri:t.getAttribute("uri"),name:t.getAttribute("title"),desc:t.getAttribute("description"),coords:m,props:f,capabilities:n}),h.push(t))}}a(h)}})};d.prototype.doCrossDomainRequest=function(a,e,b){var h;this.xUser&&(h="Basic "+btoa(this.xUser+":"+this.xPass));try{return M(a,e,this.credentials,h)}catch(k){if(b)b(k);else throw k;}};"undefined"!==typeof w&&(w.exports={DASGroup:I,DASFeature:H,DASStylesheet:a,
DASStyle:e,DASSource:d,DASSegment:f,DASRegistry:t,DASSequence:F,DASLink:l,isDasBooleanTrue:N,isDasBooleanNotFalse:O,copyStylesheet:B,coordsMatch:x})},{"./color":4,"./utils":11}],6:[function(g,w,A){function f(d,f){0>d.indexOf("?")&&(d+="?soft=true");return new x(function(g,l){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState)if(300<=c.status)l("Error code "+c.status);else{var a=JSON.parse(c.response);g(f?a:a.location)}};c.open("GET",d,!0);c.setRequestHeader("Accept","application/json");
c.responseType="text";c.send("")})}function d(d){this.rawurl=d}function D(f,g,x,l){l||("object"===typeof g?(l=g,g=void 0):l={});this.url="string"===typeof f?new d(f):f;this.start=g||0;x&&(this.end=x);this.opts=l}if("undefined"!==typeof g)var x=g("es6-promise").Promise;d.prototype.getURLPromise=function(){this.urlPromise&&this.urlPromiseValidity>Date.now()||(this.urlPromise=f(this.rawurl,!0).then(function(d){return d.location}),this.urlPromiseValidity=Date.now()+432E5);return this.urlPromise};D.prototype.slice=
function(d,f){if(0>d)throw"Bad slice "+d;var g=this.start,l=this.end,g=g&&d?g+d:d||g;return new D(this.url,g,f&&g?g+f-1:l||f-1,this.opts)};D.prototype.fetchAsText=function(d){var f=this,g=new XMLHttpRequest;f.url.getURLPromise().then(function(l){g.open("GET",l,!0);if(f.end){if(1E8<f.end-f.start)throw"Monster fetch!";g.setRequestHeader("Range","bytes="+f.start+"-"+f.end)}g.onreadystatechange=function(){if(4==g.readyState)return 200==g.status||206==g.status?d(g.responseText):d(null)};f.opts.credentials&&
(g.withCredentials=!0);g.send("")}).catch(function(l){console.log(l);return d(null)})};D.prototype.salted=function(){return this};D.prototype.fetch=function(d,f,g){var l=this;f=f||1;if(3<f)return d(null);l.url.getURLPromise().then(function(c){var a=new XMLHttpRequest,e;a.open("GET",c,!0);a.overrideMimeType("text/plain; charset=x-user-defined");if(l.end){if(1E8<l.end-l.start)throw"Monster fetch!";a.setRequestHeader("Range","bytes="+l.start+"-"+l.end);e=l.end-l.start+1}a.responseType="arraybuffer";
a.onreadystatechange=function(){if(4==a.readyState){if(200==a.status||206==a.status){if(a.response){var c=a.response.byteLength;return!e||e==c||g&&c==g?d(a.response):l.fetch(d,f+1,c)}if(a.mozResponseArrayBuffer)return d(a.mozResponseArrayBuffer);c=a.responseText;if(!e||e==c.length||g&&c.length==g){if(c=a.responseText){for(var v=new Uint8Array(c.length),n=0;n<v.length;++n)v[n]=c.charCodeAt(n);c=v.buffer}else c=null;return d(c)}return l.fetch(d,f+1,c.length)}return l.fetch(d,f+1)}};l.opts.credentials&&
(a.withCredentials=!0);a.send("")}).catch(function(c){console.log(c)})};"undefined"!==typeof w&&(w.exports={lookupEncodeURI:f,EncodeFetchable:D})},{"es6-promise":12}],7:[function(g,w,A){(function(f){function d(a){this.bam=a}function D(a){this.bbi=a}var x=g("./bin"),F=g("./bam"),A=g("./bigwig"),w=g("./encode"),l={},c=0;f.newID=function(){return"cn"+ ++c};postMessage({tag:"init"});self.onmessage=function(a){var e=a.data,c=a.data.command,f=a.data.tag;if("connectBAM"===c){var n=newID(),g;e.blob?(a=new x.BlobFetchable(e.blob),
c=new x.BlobFetchable(e.indexBlob)):(a=new x.URLFetchable(e.uri,{credentials:e.credentials}),c=new x.URLFetchable(e.indexUri,{credentials:e.credentials}),g=e.indexChunks);F.makeBam(a,c,g,function(a,e){a?(l[n]=new d(a),postMessage({tag:f,result:n})):postMessage({tag:f,error:e||"Couldn't fetch BAM"})})}else if("connectBBI"===c)n=newID(),g=e.blob?new x.BlobFetchable(e.blob):"encode"==e.transport?new w.EncodeFetchable(e.uri,{credentials:e.credentials}):new x.URLFetchable(e.uri,{credentials:e.credentials}),
A.makeBwg(g,function(a,e){a?(l[n]=new D(a),postMessage({tag:f,result:n})):postMessage({tag:f,error:e||"Couldn't fetch BBI"})},e.uri);else if("fetch"===c){g=l[a.data.connection];if(!g)return postMessage({tag:f,error:"No such connection: "+a.data.connection});g.fetch(e.tag,e.chr,e.min,e.max,e.zoom,e.opts)}else if("leap"===c){g=l[a.data.connection];if(!g)return postMessage({tag:f,error:"No such connection: "+a.data.connection});g.leap(e.tag,e.chr,e.pos,e.dir)}else if("quantLeap"===c){g=l[a.data.connection];
if(!g)return postMessage({tag:f,error:"No such connection: "+a.data.connection});g.quantLeap(e.tag,e.chr,e.pos,e.dir,e.threshold,e.under)}else if("meta"===c){g=l[a.data.connection];if(!g)return postMessage({tag:f,error:"No such connection: "+a.data.connection});g.meta(e.tag)}else if("search"===c){g=l[a.data.connection];if(!g)return postMessage({tag:f,error:"No such connection: "+a.data.connection});g.search(e.tag,e.query,e.index)}else{if("date"===c)return postMessage({tag:f,result:Date.now()|0});
postMessage({tag:f,error:"Bad command "+c})}};d.prototype.fetch=function(a,e,c,d,l,f){f=f||{};this.bam.fetch(e,c,d,function(e,c){e?postMessage({tag:a,result:e,time:Date.now()|0}):postMessage({tag:a,error:c})},f)};D.prototype.fetch=function(a,e,c,d,l){"number"!==typeof l&&(l=-1);(0>l?this.bbi.getUnzoomedView():this.bbi.getZoomedView(l)).readWigData(e,c,d,function(e){postMessage({tag:a,result:e})})};D.prototype.meta=function(a){for(var e=[1],c=0;c<this.bbi.zoomLevels.length;++c)e.push(this.bbi.zoomLevels[c].reduction);
var d=this,l={type:this.bbi.type,zoomLevels:e,fieldCount:this.bbi.fieldCount,definedFieldCount:this.bbi.definedFieldCount,schema:this.bbi.schema};"bigbed"===this.bbi.type?this.bbi.getExtraIndices(function(e){e&&(d.extraIndices=e,l.extraIndices=e.map(function(a){return a.field}));postMessage({tag:a,result:l})}):postMessage({tag:a,result:l})};D.prototype.leap=function(a,e,c,d){this.bbi.getUnzoomedView().getFirstAdjacent(e,c,d,function(e,c){postMessage({tag:a,result:e,error:c})})};D.prototype.quantLeap=
function(a,e,c,d,l,f){this.bbi.thresholdSearch(e,c,d,l,function(e,c){postMessage({tag:a,result:e,error:c})})};D.prototype.search=function(a,e,c){this.extraIndices[0].lookup(e,function(e,c){postMessage({tag:a,result:e,error:c})})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bam":1,"./bigwig":2,"./bin":3,"./encode":6}],8:[function(g,w,A){function f(c,a){this.block=c;this.offset=a}function d(c,a){var e=4294967296*(c[a+6]&255)+16777216*(c[a+5]&255)+65536*(c[a+
4]&255)+256*(c[a+3]&255)+(c[a+2]&255),d=c[a+1]<<8|c[a];return 0==e&&0==d?null:new f(e,d)}function D(c,a){a=Math.min(a||1,c.byteLength-50);for(var e=[],d=[0],f=0;d[0]<a;){var n=new Uint8Array(c,d[0],12),n=n[11]<<8|n[10],n=I(c,12+n+d[0],Math.min(65536,c.byteLength-12-n-d[0]),d);d[0]+=8;f+=n.byteLength;e.push(n)}if(1==e.length)return e[0];d=new Uint8Array(f);for(n=f=0;n<e.length;++n){var g=new Uint8Array(e[n]);l(g,0,d,f,g.length);f+=g.length}return d.buffer}function x(c,a){this.minv=c;this.maxv=a}function F(c,
a){--a;return c>>14==a>>14?4681+(c>>14):c>>17==a>>17?585+(c>>17):c>>20==a>>20?73+(c>>20):c>>23==a>>23?9+(c>>23):c>>26==a>>26?1+(c>>26):0}function H(c,a){var e,d=[];--a;d.push(0);for(e=1+(c>>26);e<=1+(a>>26);++e)d.push(e);for(e=9+(c>>23);e<=9+(a>>23);++e)d.push(e);for(e=73+(c>>20);e<=73+(a>>20);++e)d.push(e);for(e=585+(c>>17);e<=585+(a>>17);++e)d.push(e);for(e=4681+(c>>14);e<=4681+(a>>14);++e)d.push(e);return d}if("undefined"!==typeof g){g=g("jszlib");var I=g.inflateBuffer,l=g.arrayCopy}f.prototype.toString=
function(){return""+this.block+":"+this.offset};"undefined"!==typeof w&&(w.exports={unbgzf:D,readVob:d,reg2bin:F,reg2bins:H,Chunk:x})},{jszlib:24}],9:[function(g,w,A){function f(d){d=D(x(d));for(var c=H?"0123456789ABCDEF":"0123456789abcdef",a="",e,f=0;f<d.length;f++)e=d.charCodeAt(f),a+=c.charAt(e>>>4&15)+c.charAt(e&15);return a}function d(d){d=D(x(d));for(var c="",a=d.length,e=0;e<a;e+=3)for(var f=d.charCodeAt(e)<<16|(e+1<a?d.charCodeAt(e+1)<<8:0)|(e+2<a?d.charCodeAt(e+2):0),g=0;4>g;g++)c=8*e+6*
g>8*d.length?c+I:c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6*(3-g)&63);return c}function D(d){for(var c=Array(d.length>>2),a=0;a<c.length;a++)c[a]=0;for(a=0;a<8*d.length;a+=8)c[a>>5]|=(d.charCodeAt(a/8)&255)<<24-a%32;d=8*d.length;c[d>>5]|=128<<24-d%32;c[(d+64>>9<<4)+15]=d;d=Array(80);for(var a=1732584193,e=-271733879,f=-1732584194,g=271733878,n=-1009589776,x=0;x<c.length;x+=16){for(var D=a,A=e,w=f,B=g,K=n,r=0;80>r;r++){if(16>r)d[r]=c[x+r];else{var E=d[r-3]^d[r-
8]^d[r-14]^d[r-16];d[r]=E<<1|E>>>31}var E=a<<5|a>>>27,z;z=20>r?e&f|~e&g:40>r?e^f^g:60>r?e&f|e&g|f&g:e^f^g;E=F(F(E,z),F(F(n,d[r]),20>r?1518500249:40>r?1859775393:60>r?-1894007588:-899497514));n=g;g=f;f=e<<30|e>>>2;e=a;a=E}a=F(a,D);e=F(e,A);f=F(f,w);g=F(g,B);n=F(n,K)}c=[a,e,f,g,n];d="";for(a=0;a<32*c.length;a+=8)d+=String.fromCharCode(c[a>>5]>>>24-a%32&255);return d}function x(d){for(var c="",a=-1,e,f;++a<d.length;)e=d.charCodeAt(a),f=a+1<d.length?d.charCodeAt(a+1):0,55296<=e&&56319>=e&&56320<=f&&57343>=
f&&(e=65536+((e&1023)<<10)+(f&1023),a++),127>=e?c+=String.fromCharCode(e):2047>=e?c+=String.fromCharCode(192|e>>>6&31,128|e&63):65535>=e?c+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|e&63):2097151>=e&&(c+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|e&63));return c}function F(d,c){var a=(d&65535)+(c&65535);return(d>>16)+(c>>16)+(a>>16)<<16|a&65535}var H=0,I="";"undefined"!==typeof w&&(w.exports={b64_sha1:d,hex_sha1:f})},{}],10:[function(g,w,A){function f(d,c){if("number"!=
typeof d||"number"!=typeof c)throw"Bad range "+d+","+c;this._min=d;this._max=c}function d(d){this._ranges=d}function D(g,c){g instanceof Array||(g=[g],c&&g.push(c));if(0==g.length)return null;if(1==g.length)return g[0];for(var a=[],e=0;e<g.length;++e)g[e]._pushRanges(a);for(var a=a.sort(I),e=[],t=a[0],t=new f(t._min,t._max),v=1;v<a.length;++v){var n=a[v];n._min>t._max+1?(e.push(t),t=new f(n._min,n._max)):n._max>t._max&&(t._max=n._max)}e.push(t);return 1==e.length?e[0]:new d(e)}function x(g,c){for(var a=
g.ranges(),e=c.ranges(),t=a.length,v=e.length,n=0,x=0,D=[];n<t&&x<v;){g=a[n];c=e[x];var F=Math.max(g.min(),c.min()),A=Math.min(g.max(),c.max());A>=F&&D.push(new f(F,A));g.max()>c.max()?++x:++n}return 0==D.length?null:1==D.length?D[0]:new d(D)}function F(d){var c=0;d=d.ranges();for(var a=0;a<d.length;++a)var e=d[a],c=c+(e.max()-e.min()+1);return c}function H(d,c){return d.min()<c.min()?-1:d.min()>c.min()?1:d.max()<c.max()?-1:c.max()>d.max()?1:0}function I(d,c){return d._min<c._min?-1:d._min>c._min?
1:d._max<c._max?-1:c._max>d._max?1:0}f.prototype.min=function(){return this._min};f.prototype.max=function(){return this._max};f.prototype.contains=function(d){return d>=this._min&&d<=this._max};f.prototype.isContiguous=function(){return!0};f.prototype.ranges=function(){return[this]};f.prototype._pushRanges=function(d){d.push(this)};f.prototype.toString=function(){return"["+this._min+"-"+this._max+"]"};d.prototype.min=function(){return this._ranges[0].min()};d.prototype.max=function(){return this._ranges[this._ranges.length-
1].max()};d.prototype.contains=function(d){for(var c=0;c<this._ranges.length;++c)if(this._ranges[c].contains(d))return!0;return!1};d.prototype.isContiguous=function(){return 1<this._ranges.length};d.prototype.ranges=function(){return this._ranges};d.prototype._pushRanges=function(d){for(var c=0;c<this._ranges.length;++c)d.push(this._ranges[c])};d.prototype.toString=function(){for(var d="",c=0;c<this._ranges.length;++c)0<c&&(d+=","),d+=this._ranges[c].toString();return d};"undefined"!==typeof w&&(w.exports=
{Range:f,union:D,intersection:x,coverage:F,rangeOver:H,_rangeOrder:I})},{}],11:[function(g,w,A){function f(a,e){for(var c=0;c<a.length;++c)if(a[c]==e)return;a.push(e)}function d(a,e,c){a[e]?a[e].push(c):a[e]=[c]}function D(a,e,c){var d=a[e];if(d){for(a=0;a<d.length;++a)if(d[a]==c)return;d.push(c)}else a[e]=[c]}function x(a,e,c,d){if(a)return a;if(e)return e;if(c)return c;if(d)return d}function f(a,e){for(var c=0;c<a.length;++c)if(a[c]==e)return;a.push(e)}function F(a,e){if(!a)return-1;for(var c=0;c<
a.length;++c)if(a[c]===e)return c;return-1}function H(a,e,c,d){a=document.createElement(a);if(e){e instanceof Array||(e=[e]);for(var f=0;f<e.length;++f){var g=e[f];g&&("string"==typeof g?g=document.createTextNode(g):"number"==typeof g&&(g=document.createTextNode(""+g)),a.appendChild(g))}}if(c)for(var b in c)try{a[b]=c[b]}catch(h){throw console.log("error setting "+b),h;}if(d)for(b in d)a.style[b]=d[b];return a}function I(a,e,c,d){a=document.createElementNS(a,e);if(c)for(c instanceof Array||(c=[c]),
e=0;e<c.length;++e){var f=c[e];"string"==typeof f&&(f=document.createTextNode(f));a.appendChild(f)}if(d)for(var g in d){c=a;e=g;var f=d[g],b=N[e];if(!b){for(var b="",h=0;h<e.length;++h)var k=e.substring(h,h+1),q=k.toLowerCase(),b=q!=k?b+"-"+q:b+k;N[e]=b}c.setAttribute(b,f)}return a}function l(a){if(a&&a.childNodes)for(;0<a.childNodes.length;)a.removeChild(a.firstChild)}function c(a,e){if("undefined"===typeof a)return"undefined";if(null==a)return"null";if("string"==typeof a)return"'"+a+"'";if("number"==
typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array){for(var d=null,f=0;f<a.length;++f)d=(null==d?"":d+", ")+c(a[f],e);return"["+(d?d:"")+"]"}e=e||{};d=null;for(f in a)e[f]||void 0!=f&&"function"!=typeof a[f]&&(d=(null==d?"":d+", ")+f+": "+c(a[f],e));return"{"+(d?d:"")+"}"}return typeof a}function a(a){var e={},c;for(c in a)e[c]=a[c];return e}function e(a){this.value=a;this.listeners=[]}function t(){this.queue=[]}function v(a,e,c){c&&c.salt&&(a=a+"?salt="+M(""+Date.now()+
","+ ++O));var d=new XMLHttpRequest;d.onreadystatechange=function(){4==d.readyState&&(300<=d.status?e(null,"Error code "+d.status):e(d.responseText))};d.open("GET",a,!0);d.responseType="text";c&&c.credentials&&(d.withCredentials=!0);d.send("")}function n(a,e){if(0==e.indexOf("http:")||0==e.indexOf("https:"))return e;var c=a.lastIndexOf("/");return 0<=c?a.substr(0,c+1)+e:e}function C(a){return H("a",null,{href:a}).href}if("undefined"!==typeof g)var M=g("./sha1").b64_sha1;var N={};e.prototype.addListener=
function(a){this.listeners.push(a)};e.prototype.addListenerAndFire=function(a){this.listeners.push(a);a(this.value)};e.prototype.removeListener=function(a){var e=this.listeners;a=F(e,a);0<=a&&e.splice(a,1)};e.prototype.get=function(){return this.value};e.prototype.set=function(a){this.value=a;for(var e=0;e<this.listeners.length;++e)this.listeners[e](a)};t.prototype.provide=function(a){if(void 0!==this.res)throw"Resource has already been provided.";this.res=a;for(var e=0;e<this.queue.length;++e)this.queue[e](a);
this.queue=null};t.prototype.await=function(a){if(void 0!==this.res)return a(this.res),this.res;this.queue.push(a)};var O=0;g={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"*",TAG:"*",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",
GAG:"E",TGT:"C",TGC:"C",TGA:"*",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"};"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});"undefined"!==typeof w&&(w.exports={textXHR:v,relativeURL:n,resolveUrlToPage:C,shallowCopy:a,pusho:d,pushnew:f,pushnewo:D,arrayIndexOf:F,pick:x,makeElement:H,makeElementNS:I,removeChildren:l,miniJSONify:c,Observed:e,Awaited:t,AMINO_ACID_TRANSLATION:g})},
{"./sha1":9}],12:[function(g,w,A){w=g("./promise/promise").Promise;g=g("./promise/polyfill").polyfill;A.Promise=w;A.polyfill=g},{"./promise/polyfill":17,"./promise/promise":18}],13:[function(g,w,A){var f=g("./utils").isArray,d=g("./utils").isFunction;A.all=function(g){if(!f(g))throw new TypeError("You must pass an array to all.");return new this(function(f,F){function A(a){return function(c){w[a]=c;0===--l&&f(w)}}var w=[],l=g.length,c;0===l&&f([]);for(var a=0;a<g.length;a++)(c=g[a])&&d(c.then)?c.then(A(a),
F):(w[a]=c,0===--l&&f(w))})}},{"./utils":22}],14:[function(g,w,A){(function(f,d){function g(){return function(){f.nextTick(w)}}function x(){var a=0,e=new l(w),c=document.createTextNode("");e.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function F(){return function(){c.setTimeout(w,1)}}function w(){for(var e=0;e<a.length;e++){var c=a[e];(0,c[0])(c[1])}a=[]}var I="undefined"!==typeof window?window:{},l=I.MutationObserver||I.WebKitMutationObserver,c="undefined"!==typeof d?d:void 0===
this?window:this,a=[],e;e="undefined"!==typeof f&&"[object process]"==={}.toString.call(f)?g():l?x():F();A.asap=function(c,d){1===a.push([c,d])&&e()}}).call(this,g("/Users/pkok/repos/transmart-1.2/dalliance-plugin/web-app/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"/Users/pkok/repos/transmart-1.2/dalliance-plugin/web-app/node_modules/gulp-browserify/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":23}],
15:[function(g,w,A){A.cast=function(f){return f&&"object"===typeof f&&f.constructor===this?f:new this(function(d){d(f)})}},{}],16:[function(g,w,A){var f={instrument:!1};A.config=f;A.configure=function(d,g){if(2===arguments.length)f[d]=g;else return f[d]}},{}],17:[function(g,w,A){(function(f){var d=g("./promise").Promise,D=g("./utils").isFunction;A.polyfill=function(){var g;g="undefined"!==typeof f?f:"undefined"!==typeof window&&window.document?window:self;"Promise"in g&&"cast"in g.Promise&&"resolve"in
g.Promise&&"reject"in g.Promise&&"all"in g.Promise&&"race"in g.Promise&&function(){var d;new g.Promise(function(f){d=f});return D(d)}()||(g.Promise=d)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./promise":18,"./utils":22}],18:[function(g,w,A){function f(a){if(!n(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof f))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
this._subscribers=[];d(a,this)}function d(a,e){function b(b){I(e,b)}function h(b){c(e,b)}try{a(b,h)}catch(k){h(k)}}function D(a,e,b,h){var k=n(b),d,s,f,m;if(k)try{d=b(h),f=!0}catch(g){m=!0,s=g}else d=h,f=!0;H(e,d)||(k&&f?I(e,d):m?c(e,s):a===r?I(e,d):a===E&&c(e,d))}function x(a,e,b,h){a=a._subscribers;var k=a.length;a[k]=e;a[k+r]=b;a[k+E]=h}function F(a,e){for(var b,h,k=a._subscribers,c=a._detail,d=0;d<k.length;d+=3)b=k[d],h=k[d+e],D(e,b,h,c);a._subscribers=null}function H(a,e){var b=null,h;try{if(a===
e)throw new TypeError("A promises callback cannot return that same promise.");if(v(e)&&(b=e.then,n(b)))return b.call(e,function(b){if(h)return!0;h=!0;e!==b?I(a,b):l(a,b)},function(b){if(h)return!0;h=!0;c(a,b)}),!0}catch(k){if(h)return!0;c(a,k);return!0}return!1}function I(a,e){a===e?l(a,e):H(a,e)||l(a,e)}function l(e,c){e._state===B&&(e._state=K,e._detail=c,t.async(a,e))}function c(a,c){a._state===B&&(a._state=K,a._detail=c,t.async(e,a))}function a(a){F(a,a._state=r)}function e(a){F(a,a._state=E)}
var t=g("./config").config;g("./config");var v=g("./utils").objectOrFunction,n=g("./utils").isFunction;g("./utils");w=g("./cast").cast;var C=g("./all").all,M=g("./race").race,N=g("./resolve").resolve,O=g("./reject").reject;g=g("./asap").asap;t.async=g;var B=void 0,K=0,r=1,E=2;f.prototype={constructor:f,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,e){var b=this,h=new this.constructor(function(){});if(this._state){var k=arguments;t.async(function(){D(b._state,h,k[b._state-1],b._detail)})}else x(this,
h,a,e);return h},"catch":function(a){return this.then(null,a)}};f.all=C;f.cast=w;f.race=M;f.resolve=N;f.reject=O;A.Promise=f},{"./all":13,"./asap":14,"./cast":15,"./config":16,"./race":19,"./reject":20,"./resolve":21,"./utils":22}],19:[function(g,w,A){var f=g("./utils").isArray;A.race=function(d){if(!f(d))throw new TypeError("You must pass an array to race.");return new this(function(f,g){for(var w,A=0;A<d.length;A++)(w=d[A])&&"function"===typeof w.then?w.then(f,g):f(w)})}},{"./utils":22}],20:[function(g,
w,A){A.reject=function(f){return new this(function(d,g){g(f)})}},{}],21:[function(g,w,A){A.resolve=function(f){return new this(function(d,g){d(f)})}},{}],22:[function(g,w,A){function f(d){return"function"===typeof d}g=Date.now||function(){return(new Date).getTime()};A.objectOrFunction=function(d){return f(d)||"object"===typeof d&&null!==d};A.isFunction=f;A.isArray=function(d){return"[object Array]"===Object.prototype.toString.call(d)};A.now=g},{}],23:[function(g,w,A){g=w.exports={};g.nextTick=function(){if("undefined"!==
typeof window&&window.setImmediate)return function(d){return window.setImmediate(d)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var f=[];window.addEventListener("message",function(d){var g=d.source;g!==window&&null!==g||"process-tick"!==d.data||(d.stopPropagation(),0<f.length&&f.shift()())},!0);return function(d){f.push(d);window.postMessage("process-tick","*")}}return function(d){setTimeout(d,0)}}();g.title="browser";g.browser=!0;g.env={};g.argv=[];g.binding=function(f){throw Error("process.binding is not supported");
};g.cwd=function(){return"/"};g.chdir=function(f){throw Error("process.chdir is not supported");}},{}],24:[function(g,w,A){function f(){}function d(){this.was=[0]}function D(b,a,e){this.hufts=new Int32Array(3*c);this.window=new Uint8Array(e);this.end=e;this.checkfn=a;this.mode=C;this.reset(b,null);this.index=this.table=this.left=0;this.blens=null;this.bb=new Int32Array(1);this.tb=new Int32Array(1);this.codes=new x;this.check=this.write=this.read=this.bitb=this.bitk=this.last=0;this.inftree=new F}
function x(){}function F(){}function H(b,a,e,c,d){if(0!=d){if(!b)throw"Undef src";if(!e)throw"Undef dest";if(0==a&&d==b.length)e.set(b,c);else if(p)b=b.subarray(a,a+d),e.set(b,c);else if(1==b.BYTES_PER_ELEMENT&&100<d)b=new Uint8Array(b.buffer,b.byteOffset+a,d),e.set(b,c);else for(var f=0;f<d;++f)e[c+f]=b[a+f]}}function I(b,h,k,c){b=h?k?new Uint8Array(b,h,k):new Uint8Array(b,h,b.byteLength-h):new Uint8Array(b);k=new f;k.inflateInit(l,!0);k.next_in=b;k.next_in_index=0;k.avail_in=b.length;b=[];for(var d=
0;;){var g=new Uint8Array(32E3);k.next_out=g;k.next_out_index=0;k.avail_out=g.length;var m=k.inflate(a);if(m!=e&&m!=t&&m!=v)throw k.msg;if(0!=k.avail_out){var n=new Uint8Array(g.length-k.avail_out);H(g,0,n,0,g.length-k.avail_out);g=n}b.push(g);d+=g.length;if(m==t||m==v)break}c&&(c[0]=(h||0)+k.next_in_index);if(1==b.length)return b[0].buffer;h=new Uint8Array(d);for(k=c=0;k<b.length;++k)d=b[k],H(d,0,h,c,d.length),c+=d.length;return h.buffer}var l=15,c=1440,a=0,e=0,t=1,v=-5,n=[0,1,3,7,15,31,63,127,255,
511,1023,2047,4095,8191,16383,32767,65535],C=0,M=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,
0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,
78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,
0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,
8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,
0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,
7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,
0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],N=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,
8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],K=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],r=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,
6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];f.prototype.inflateInit=function(b,a){b||(b=l);a&&(a=!1);this.istate=new d;return this.istate.inflateInit(this,a?-b:b)};f.prototype.inflate=function(b){return null==this.istate?-2:this.istate.inflate(this,b)};f.prototype.inflateEnd=function(){if(null==this.istate)return-2;var b=istate.inflateEnd(this);this.istate=null;return b};f.prototype.inflateSync=function(){return istate.inflateSync(this)};f.prototype.inflateSetDictionary=function(b,a){return istate.inflateSetDictionary(this,
b,a)};d.prototype.inflateReset=function(b){if(null==b||null==b.istate)return-2;b.total_in=b.total_out=0;b.msg=null;b.istate.mode=0!=b.istate.nowrap?7:0;b.istate.blocks.reset(b,null);return e};d.prototype.inflateEnd=function(b){null!=this.blocks&&this.blocks.free(b);this.blocks=null;return e};d.prototype.inflateInit=function(b,a){this.blocks=b.msg=null;nowrap=0;0>a&&(a=-a,nowrap=1);if(8>a||15<a)return this.inflateEnd(b),-2;this.wbits=a;b.istate.blocks=new D(b,0!=b.istate.nowrap?null:this,1<<a);this.inflateReset(b);
return e};d.prototype.inflate=function(b,a){var c,d;if(null==b||null==b.istate||null==b.next_in)return-2;a=4==a?v:e;for(c=v;;)switch(b.istate.mode){case 0:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;if(8!=((b.istate.method=b.next_in[b.next_in_index++])&15)){b.istate.mode=13;b.msg="unknown compression method";b.istate.marker=5;break}if((b.istate.method>>4)+8>b.istate.wbits){b.istate.mode=13;b.msg="invalid window size";b.istate.marker=5;break}b.istate.mode=1;case 1:if(0==b.avail_in)return c;
c=a;b.avail_in--;b.total_in++;d=b.next_in[b.next_in_index++]&255;if(0!=((b.istate.method<<8)+d)%31){b.istate.mode=13;b.msg="incorrect header check";b.istate.marker=5;break}if(0==(d&32)){b.istate.mode=7;break}b.istate.mode=2;case 2:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;b.istate.need=(b.next_in[b.next_in_index++]&255)<<24&4278190080;b.istate.mode=3;case 3:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;b.istate.need+=(b.next_in[b.next_in_index++]&255)<<16&16711680;b.istate.mode=
4;case 4:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;b.istate.need+=(b.next_in[b.next_in_index++]&255)<<8&65280;b.istate.mode=5;case 5:if(0==b.avail_in)return c;b.avail_in--;b.total_in++;b.istate.need+=b.next_in[b.next_in_index++]&255;b.adler=b.istate.need;b.istate.mode=6;return 2;case 6:return b.istate.mode=13,b.msg="need dictionary",b.istate.marker=0,-2;case 7:c=b.istate.blocks.proc(b,c);if(-3==c){b.istate.mode=13;b.istate.marker=0;break}c==e&&(c=a);if(c!=t)return c;c=a;b.istate.blocks.reset(b,
b.istate.was);if(0!=b.istate.nowrap){b.istate.mode=12;break}b.istate.mode=8;case 8:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;b.istate.need=(b.next_in[b.next_in_index++]&255)<<24&4278190080;b.istate.mode=9;case 9:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;b.istate.need+=(b.next_in[b.next_in_index++]&255)<<16&16711680;b.istate.mode=10;case 10:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;b.istate.need+=(b.next_in[b.next_in_index++]&255)<<8&65280;b.istate.mode=11;
case 11:if(0==b.avail_in)return c;c=a;b.avail_in--;b.total_in++;b.istate.need+=b.next_in[b.next_in_index++]&255;if(b.istate.was[0]!=b.istate.need){b.istate.mode=13;b.msg="incorrect data check";b.istate.marker=5;break}b.istate.mode=12;case 12:return t;case 13:return-3;default:return-2}};d.prototype.inflateSetDictionary=function(b,a,c){var d=0,f=c;if(null==b||null==b.istate||6!=b.istate.mode)return-2;if(b._adler.adler32(1,a,0,c)!=b.adler)return-3;b.adler=b._adler.adler32(0,null,0,0);f>=1<<b.istate.wbits&&
(f=(1<<b.istate.wbits)-1,d=c-f);b.istate.blocks.set_dictionary(a,d,f);b.istate.mode=7;return e};var E=[0,0,255,255];d.prototype.inflateSync=function(b){var a,c,d;if(null==b||null==b.istate)return-2;13!=b.istate.mode&&(b.istate.mode=13,b.istate.marker=0);if(0==(a=b.avail_in))return v;c=b.next_in_index;for(d=b.istate.marker;0!=a&&4>d;)b.next_in[c]==E[d]?d++:d=0!=b.next_in[c]?0:4-d,c++,a--;b.total_in+=c-b.next_in_index;b.next_in_index=c;b.avail_in=a;b.istate.marker=d;if(4!=d)return-3;a=b.total_in;c=
b.total_out;this.inflateReset(b);b.total_in=a;b.total_out=c;b.istate.mode=7;return e};d.prototype.inflateSyncPoint=function(b){return null==b||null==b.istate||null==b.istate.blocks?-2:b.istate.blocks.sync_point()};var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];D.prototype.reset=function(b,a){a&&(a[0]=this.check);6==this.mode&&this.codes.free(b);this.mode=C;this.read=this.write=this.bitb=this.bitk=0;this.checkfn&&(b.adler=this.check=b._adler.adler32(0,null,0,0))};D.prototype.proc=function(b,
a){var c,d,f,g,m,u,l;g=b.next_in_index;m=b.avail_in;d=this.bitb;f=this.bitk;u=this.write;for(l=u<this.read?this.read-u-1:this.end-u;;)switch(this.mode){case C:for(;3>f;){if(0!=m)a=e;else return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);m--;d|=(b.next_in[g++]&255)<<f;f+=8}c=d&7;this.last=c&1;switch(c>>>1){case 0:d>>>=3;f-=3;c=f&7;d>>>=c;f-=c;this.mode=1;break;case 1:var p=new Int32Array(1),r=new Int32Array(1),v=[],y=[];
c=r;var x=v,w=y;p[0]=9;c[0]=5;x[0]=M;w[0]=N;this.codes.init(p[0],r[0],v[0],0,y[0],0,b);d>>>=3;f-=3;this.mode=6;break;case 2:d>>>=3;f-=3;this.mode=3;break;case 3:return d>>>=3,f-=3,this.mode=13,b.msg="invalid block type",a=-3,this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a)}break;case 1:for(;32>f;){if(0!=m)a=e;else return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,
a);m--;d|=(b.next_in[g++]&255)<<f;f+=8}if((~d>>>16&65535)!=(d&65535))return this.mode=13,b.msg="invalid stored block lengths",a=-3,this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);this.left=d&65535;d=f=0;this.mode=0!=this.left?2:0!=this.last?7:C;break;case 2:if(0==m)return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,write=u,this.inflate_flush(b,a);if(0==l&&(u==end&&0!=read&&(u=0,l=u<this.read?
this.read-u-1:this.end-u),0==l&&(this.write=u,a=this.inflate_flush(b,a),u=this.write,l=u<this.read?this.read-u-1:this.end-u,u==this.end&&0!=this.read&&(u=0,l=u<this.read?this.read-u-1:this.end-u),0==l)))return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);a=e;c=this.left;c>m&&(c=m);c>l&&(c=l);H(b.next_in,g,this.window,u,c);g+=c;m-=c;u+=c;l-=c;if(0!=(this.left-=c))break;this.mode=0!=this.last?7:C;break;case 3:for(;14>f;){if(0!=
m)a=e;else return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);m--;d|=(b.next_in[g++]&255)<<f;f+=8}this.table=c=d&16383;if(29<(c&31)||29<(c>>5&31))return this.mode=9,b.msg="too many length or distance symbols",a=-3,this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);c=258+(c&31)+(c>>5&31);if(null==this.blens||this.blens.length<c)this.blens=new Int32Array(c);
else for(l=0;l<c;l++)this.blens[l]=0;d>>>=14;f-=14;this.index=0;mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;3>f;){if(0!=m)a=e;else return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);m--;d|=(b.next_in[g++]&255)<<f;f+=8}this.blens[z[this.index++]]=d&7;d>>>=3;f-=3}for(;19>this.index;)this.blens[z[this.index++]]=0;this.bb[0]=7;c=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,this.hufts,b);if(c!=e)return a=
c,-3==a&&(this.blens=null,this.mode=9),this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,write=u,this.inflate_flush(b,a);this.index=0;this.mode=5;case 5:for(;;){c=this.table;if(!(this.index<258+(c&31)+(c>>5&31)))break;for(c=this.bb[0];f<c;){if(0!=m)a=e;else return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);m--;d|=(b.next_in[g++]&255)<<f;f+=8}c=this.hufts[3*(this.tb[0]+(d&n[c]))+1];r=this.hufts[3*
(this.tb[0]+(d&n[c]))+2];if(16>r)d>>>=c,f-=c,this.blens[this.index++]=r;else{l=18==r?7:r-14;for(p=18==r?11:3;f<c+l;){if(0!=m)a=e;else return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);m--;d|=(b.next_in[g++]&255)<<f;f+=8}d>>>=c;f-=c;p+=d&n[l];d>>>=l;f-=l;l=this.index;c=this.table;if(l+p>258+(c&31)+(c>>5&31)||16==r&&1>l)return this.blens=null,this.mode=9,b.msg="invalid bit length repeat",a=-3,this.bitb=d,this.bitk=f,b.avail_in=
m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);r=16==r?this.blens[l-1]:0;do this.blens[l++]=r;while(0!=--p);this.index=l}}this.tb[0]=-1;p=new Int32Array(1);r=new Int32Array(1);v=new Int32Array(1);y=new Int32Array(1);p[0]=9;r[0]=6;c=this.table;c=this.inftree.inflate_trees_dynamic(257+(c&31),1+(c>>5&31),this.blens,p,r,v,y,this.hufts,b);if(c!=e)return-3==c&&(this.blens=null,this.mode=13),a=c,this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=
g,this.write=u,this.inflate_flush(b,a);this.codes.init(p[0],r[0],this.hufts,v[0],this.hufts,y[0],b);this.mode=6;case 6:this.bitb=d;this.bitk=f;b.avail_in=m;b.total_in+=g-b.next_in_index;b.next_in_index=g;this.write=u;if((a=this.codes.proc(this,b,a))!=t)return this.inflate_flush(b,a);a=e;this.codes.free(b);g=b.next_in_index;m=b.avail_in;d=this.bitb;f=this.bitk;u=this.write;l=u<this.read?this.read-u-1:this.end-u;if(0==this.last){this.mode=C;break}this.mode=7;case 7:this.write=u;a=this.inflate_flush(b,
a);u=this.write;if(this.read!=this.write)return this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);mode=12;case 8:return a=t,this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);case 9:return a=-3,this.bitb=d,this.bitk=f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a);default:return a=-2,this.bitb=d,this.bitk=
f,b.avail_in=m,b.total_in+=g-b.next_in_index,b.next_in_index=g,this.write=u,this.inflate_flush(b,a)}};D.prototype.free=function(b){this.reset(b,null);this.hufts=this.window=null};D.prototype.set_dictionary=function(b,a,e){H(b,a,window,0,e);this.read=this.write=e};D.prototype.sync_point=function(){return 1==this.mode};D.prototype.inflate_flush=function(b,a){var c,d,f;d=b.next_out_index;f=this.read;c=(f<=this.write?this.write:this.end)-f;c>b.avail_out&&(c=b.avail_out);0!=c&&a==v&&(a=e);b.avail_out-=
c;b.total_out+=c;null!=this.checkfn&&(b.adler=this.check=b._adler.adler32(this.check,this.window,f,c));H(this.window,f,b.next_out,d,c);d+=c;f+=c;f==this.end&&(f=0,this.write==this.end&&(this.write=0),c=this.write-f,c>b.avail_out&&(c=b.avail_out),0!=c&&a==v&&(a=e),b.avail_out-=c,b.total_out+=c,null!=this.checkfn&&(b.adler=this.check=b._adler.adler32(this.check,this.window,f,c)),H(this.window,f,b.next_out,d,c),d+=c,f+=c);b.next_out_index=d;this.read=f;return a};x.prototype.init=function(b,a,c,e,d,f,
g){this.mode=0;this.lbits=b;this.dbits=a;this.ltree=c;this.ltree_index=e;this.dtree=d;this.dtree_index=f;this.tree=null};x.prototype.proc=function(b,a,c){var d,f,g=0,m=0,u=0,l,p,r,u=a.next_in_index;l=a.avail_in;g=b.bitb;m=b.bitk;p=b.write;for(r=p<b.read?b.read-p-1:b.end-p;;)switch(this.mode){case 0:if(258<=r&&10<=l&&(b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,c=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,this.dtree,this.dtree_index,
b,a),u=a.next_in_index,l=a.avail_in,g=b.bitb,m=b.bitk,p=b.write,r=p<b.read?b.read-p-1:b.end-p,c!=e)){this.mode=c==t?7:9;break}this.need=this.lbits;this.tree=this.ltree;this.tree_index=this.ltree_index;this.mode=1;case 1:for(d=this.need;m<d;){if(0!=l)c=e;else return b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c);l--;g|=(a.next_in[u++]&255)<<m;m+=8}d=3*(this.tree_index+(g&n[d]));g>>>=this.tree[d+1];m-=this.tree[d+1];f=this.tree[d];if(0==
f){this.lit=this.tree[d+2];this.mode=6;break}if(0!=(f&16)){this.get=f&15;this.len=this.tree[d+2];this.mode=2;break}if(0==(f&64)){this.need=f;this.tree_index=d/3+this.tree[d+2];break}if(0!=(f&32)){this.mode=7;break}this.mode=9;a.msg="invalid literal/length code";c=-3;b.bitb=g;b.bitk=m;a.avail_in=l;a.total_in+=u-a.next_in_index;a.next_in_index=u;b.write=p;return b.inflate_flush(a,c);case 2:for(d=this.get;m<d;){if(0!=l)c=e;else return b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=
u,b.write=p,b.inflate_flush(a,c);l--;g|=(a.next_in[u++]&255)<<m;m+=8}this.len+=g&n[d];g>>=d;m-=d;this.need=this.dbits;this.tree=this.dtree;this.tree_index=this.dtree_index;this.mode=3;case 3:for(d=this.need;m<d;){if(0!=l)c=e;else return b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c);l--;g|=(a.next_in[u++]&255)<<m;m+=8}d=3*(this.tree_index+(g&n[d]));g>>=this.tree[d+1];m-=this.tree[d+1];f=this.tree[d];if(0!=(f&16)){this.get=f&15;this.dist=
this.tree[d+2];this.mode=4;break}if(0==(f&64)){this.need=f;this.tree_index=d/3+this.tree[d+2];break}this.mode=9;a.msg="invalid distance code";c=-3;b.bitb=g;b.bitk=m;a.avail_in=l;a.total_in+=u-a.next_in_index;a.next_in_index=u;b.write=p;return b.inflate_flush(a,c);case 4:for(d=this.get;m<d;){if(0!=l)c=e;else return b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c);l--;g|=(a.next_in[u++]&255)<<m;m+=8}this.dist+=g&n[d];g>>=d;m-=d;this.mode=
5;case 5:for(d=p-this.dist;0>d;)d+=b.end;for(;0!=this.len;){if(0==r&&(p==b.end&&0!=b.read&&(p=0,r=p<b.read?b.read-p-1:b.end-p),0==r&&(b.write=p,c=b.inflate_flush(a,c),p=b.write,r=p<b.read?b.read-p-1:b.end-p,p==b.end&&0!=b.read&&(p=0,r=p<b.read?b.read-p-1:b.end-p),0==r)))return b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c);b.window[p++]=b.window[d++];r--;d==b.end&&(d=0);this.len--}this.mode=0;break;case 6:if(0==r&&(p==b.end&&0!=b.read&&
(p=0,r=p<b.read?b.read-p-1:b.end-p),0==r&&(b.write=p,c=b.inflate_flush(a,c),p=b.write,r=p<b.read?b.read-p-1:b.end-p,p==b.end&&0!=b.read&&(p=0,r=p<b.read?b.read-p-1:b.end-p),0==r)))return b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c);c=e;b.window[p++]=this.lit;r--;this.mode=0;break;case 7:7<m&&(m-=8,l++,u--);b.write=p;c=b.inflate_flush(a,c);p=b.write;if(b.read!=b.write)return b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,
a.next_in_index=u,b.write=p,b.inflate_flush(a,c);this.mode=8;case 8:return c=t,b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c);case 9:return c=-3,b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c);default:return c=-2,b.bitb=g,b.bitk=m,a.avail_in=l,a.total_in+=u-a.next_in_index,a.next_in_index=u,b.write=p,b.inflate_flush(a,c)}};x.prototype.free=function(a){};x.prototype.inflate_fast=
function(a,c,d,f,g,p,m,l){var r,v,z,x,y,w,A,C,D,F,B,E;w=l.next_in_index;A=l.avail_in;x=m.bitb;y=m.bitk;C=m.write;D=C<m.read?m.read-C-1:m.end-C;a=n[a];F=n[c];do{for(;20>y;)A--,x|=(l.next_in[w++]&255)<<y,y+=8;r=x&a;v=d;z=f;E=3*(z+r);if(0==(c=v[E]))x>>=v[E+1],y-=v[E+1],m.window[C++]=v[E+2],D--;else{do{x>>=v[E+1];y-=v[E+1];if(0!=(c&16)){c&=15;B=v[E+2]+(x&n[c]);x>>=c;for(y-=c;15>y;)A--,x|=(l.next_in[w++]&255)<<y,y+=8;r=x&F;v=g;z=p;E=3*(z+r);c=v[E];do if(x>>=v[E+1],y-=v[E+1],0!=(c&16)){for(c&=15;y<c;)A--,
x|=(l.next_in[w++]&255)<<y,y+=8;r=v[E+2]+(x&n[c]);x>>=c;y-=c;D-=B;if(C>=r)r=C-r,m.window[C++]=m.window[r++],m.window[C++]=m.window[r++],B-=2;else{r=C-r;do r+=m.end;while(0>r);c=m.end-r;if(B>c){B-=c;if(0<C-r&&c>C-r){do m.window[C++]=m.window[r++];while(0!=--c)}else H(m.window,r,m.window,C,c),C+=c;r=0}}do m.window[C++]=m.window[r++];while(0!=--B);break}else if(0==(c&64))r+=v[E+2],r+=x&n[c],E=3*(z+r),c=v[E];else return l.msg="invalid distance code",B=l.avail_in-A,B=y>>3<B?y>>3:B,A+=B,w-=B,y-=B<<3,m.bitb=
x,m.bitk=y,l.avail_in=A,l.total_in+=w-l.next_in_index,l.next_in_index=w,m.write=C,-3;while(1);break}if(0==(c&64)){if(r+=v[E+2],r+=x&n[c],E=3*(z+r),0==(c=v[E])){x>>=v[E+1];y-=v[E+1];m.window[C++]=v[E+2];D--;break}}else{if(0!=(c&32))return B=l.avail_in-A,B=y>>3<B?y>>3:B,A+=B,w-=B,y-=B<<3,m.bitb=x,m.bitk=y,l.avail_in=A,l.total_in+=w-l.next_in_index,l.next_in_index=w,m.write=C,t;l.msg="invalid literal/length code";B=l.avail_in-A;B=y>>3<B?y>>3:B;A+=B;w-=B;y-=B<<3;m.bitb=x;m.bitk=y;l.avail_in=A;l.total_in+=
w-l.next_in_index;l.next_in_index=w;m.write=C;return-3}}while(1)}}while(258<=D&&10<=A);B=l.avail_in-A;B=y>>3<B?y>>3:B;w-=B;m.bitb=x;m.bitk=y-(B<<3);l.avail_in=A+B;l.total_in+=w-l.next_in_index;l.next_in_index=w;m.write=C;return e};F.prototype.huft_build=function(a,d,f,g,l,p,m,n,r,t,x){var z,y,w,C,A,B,D,E,F;B=0;y=f;do this.c[a[d+B]]++,B++,y--;while(0!=y);if(this.c[0]==f)return m[0]=-1,n[0]=0,e;A=n[0];for(w=1;15>=w&&0==this.c[w];w++);C=w;A<w&&(A=w);for(y=15;0!=y&&0==this.c[y];y--);t=y;A>y&&(A=y);n[0]=
A;for(n=1<<w;w<y;w++,n<<=1)if(0>(n-=this.c[w]))return-3;if(0>(n-=this.c[y]))return-3;this.c[y]+=n;this.x[1]=w=0;B=1;for(D=2;0!=--y;)this.x[D]=w+=this.c[B],D++,B++;B=y=0;do 0!=(w=a[d+B])&&(this.v[this.x[w]++]=y),B++;while(++y<f);f=this.x[t];B=this.x[0]=y=0;d=-1;E=-A;for(F=D=this.u[0]=0;C<=t;C++)for(a=this.c[C];0!=a--;){for(;C>E+A;){d++;E+=A;F=t-E;F=F>A?A:F;if((z=1<<(w=C-E))>a+1&&(z-=a+1,D=C,w<F))for(;++w<F&&!((z<<=1)<=this.c[++D]);)z-=this.c[D];F=1<<w;if(this.hn[0]+F>c)return-3;this.u[d]=D=this.hn[0];
this.hn[0]+=F;0!=d?(this.x[d]=y,this.r[0]=w,this.r[1]=A,w=y>>>E-A,this.r[2]=D-this.u[d-1]-w,H(this.r,0,r,3*(this.u[d-1]+w),3)):m[0]=D}this.r[1]=C-E;B>=f?this.r[0]=192:x[B]<g?(this.r[0]=256>this.v[B]?0:96,this.r[2]=this.v[B++]):(this.r[0]=p[this.v[B]-g]+16+64,this.r[2]=l[this.v[B++]-g]);z=1<<C-E;for(w=y>>>E;w<F;w+=z)H(this.r,0,r,3*(D+w),3);for(w=1<<C-1;0!=(y&w);w>>>=1)y^=w;y^=w;for(w=(1<<E)-1;(y&w)!=this.x[d];)d--,E-=A,w=(1<<E)-1}return 0!=n&&1!=t?v:e};F.prototype.inflate_trees_bits=function(a,c,d,
e,f){this.initWorkArea(19);this.hn[0]=0;a=this.huft_build(a,0,19,19,null,null,d,c,e,this.hn,this.v);if(-3==a)f.msg="oversubscribed dynamic bit lengths tree";else if(a==v||0==c[0])f.msg="incomplete dynamic bit lengths tree",a=-3;return a};F.prototype.inflate_trees_dynamic=function(a,c,d,f,g,l,m,n,p){this.initWorkArea(288);this.hn[0]=0;l=this.huft_build(d,0,a,257,O,B,l,f,n,this.hn,this.v);if(l!=e||0==f[0])return-3==l?p.msg="oversubscribed literal/length tree":-4!=l&&(p.msg="incomplete literal/length tree",
l=-3),l;this.initWorkArea(288);l=this.huft_build(d,a,c,0,K,r,m,g,n,this.hn,this.v);return l!=e||0==g[0]&&257<a?(-3==l?p.msg="oversubscribed distance tree":l==v?(p.msg="incomplete distance tree",l=-3):-4!=l&&(p.msg="empty distance tree with lengths",l=-3),l):e};F.prototype.initWorkArea=function(a){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(a),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16));this.v.length<a&&(this.v=new Int32Array(a));
for(var c=0;c<a;c++)this.v[c]=0;for(c=0;16>c;c++)this.c[c]=0;for(c=0;3>c;c++)this.r[c]=0;H(this.c,0,this.u,0,15);H(this.c,0,this.x,0,16)};var p="function"===typeof(new Uint8Array(1)).subarray;"undefined"!==typeof w&&(w.exports={inflateBuffer:I,arrayCopy:H})},{}]},{},[7]);
